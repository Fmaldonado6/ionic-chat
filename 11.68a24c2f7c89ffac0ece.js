(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{hOsS:function(t,n,o){"use strict";o.r(n),o.d(n,"AuthPageModule",function(){return h});var e=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("mrSG"),c=o("V2kc"),b=o("fXoL"),l=o("j7lE"),u=o("aX8X");function g(t,n){if(1&t){const t=b.Nb();b.Mb(0,"div",3),b.Mb(1,"ion-card",4),b.Mb(2,"ion-card-content"),b.Mb(3,"h3"),b.ic(4,"Login"),b.Lb(),b.Mb(5,"form",5),b.Ub("ngSubmit",function(){b.ec(t);const n=b.Wb();return n.submitForm(n.form.value)}),b.Mb(6,"ion-item"),b.Mb(7,"ion-label",6),b.ic(8,"Email"),b.Lb(),b.Kb(9,"ion-input",7),b.Lb(),b.Mb(10,"ion-item"),b.Mb(11,"ion-label",6),b.ic(12,"Contrase\xf1a"),b.Lb(),b.Kb(13,"input",8),b.Kb(14,"ion-input",9),b.Lb(),b.Mb(15,"ion-button",10),b.ic(16," Login "),b.Lb(),b.Lb(),b.Mb(17,"ion-button",11),b.ic(18," Registro "),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&t){const t=b.Wb();b.zb(5),b.Zb("formGroup",t.form)}}function m(t,n){1&t&&(b.Mb(0,"div",12),b.Kb(1,"ion-spinner",13),b.Lb())}const d=[{path:"",component:(()=>{class t{constructor(t,n,o,e,i){this.usersService=t,this.platform=n,this.databaseService=o,this.navController=e,this.toastController=i,this.Status=c.f,this.currentStatus=c.f.loading}ionViewWillEnter(){if(this.databaseService.token)return this.changePage();this.currentStatus=c.f.loaded,this.form=new i.d({email:new i.b("",[i.m.required]),password:new i.b("",[i.m.required])})}submitForm(t){const n=new c.g;n.email=t.email,n.password=t.password,this.usersService.login(n).subscribe(t=>Object(s.a)(this,void 0,void 0,function*(){this.platform.is("capacitor")?yield this.databaseService.insertToken(t):this.databaseService.insertTokenStorage(t),this.usersService.setUser(this.usersService.getTokenInfo(t)),this.changePage()}),()=>Object(s.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Usuario o contrase\xf1a incorrectos",duration:2e3})).present()}))}changePage(){this.navController.navigateRoot("/main")}}return t.\u0275fac=function(n){return new(n||t)(b.Jb(l.a),b.Jb(r.B),b.Jb(u.a),b.Jb(r.A),b.Jb(r.E))},t.\u0275cmp=b.Db({type:t,selectors:[["app-auth"]],decls:3,vars:3,consts:[[3,"ngSwitch"],["class","container",4,"ngSwitchCase"],["class","loading",4,"ngSwitchCase"],[1,"container"],["mode","md",1,"login","elevation"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","email","type","email","autocomplete","off"],["type","submit",1,"submit-enter"],["type","password","autocomplete","off","formControlName","password"],["expand","block","type","submit","shape","round"],["expand","block","fill","clear","shape","round","routerLink","/register"],[1,"loading"],["color","primary"]],template:function(t,n){1&t&&(b.Mb(0,"ion-content",0),b.hc(1,g,19,1,"div",1),b.hc(2,m,2,0,"div",2),b.Lb()),2&t&&(b.Zb("ngSwitch",n.currentStatus),b.zb(1),b.Zb("ngSwitchCase",n.Status.loaded),b.zb(1),b.Zb("ngSwitchCase",n.Status.loading))},directives:[r.h,e.l,e.m,r.f,r.g,i.n,i.j,i.e,r.n,r.o,r.m,r.D,i.i,i.c,r.d,r.C,a.h,r.r],styles:[".login[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:50px;max-width:400px;padding:20px}.login[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-medium);font-size:24px;margin-bottom:20px;padding-bottom:15px;text-align:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:30px}.login[_ngcontent-%COMP%]   .submit-enter[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--highlight-height:0;--background:var(--ion-color-light);border-radius:15px;margin-top:25px}.loading[_ngcontent-%COMP%]{align-items:center;display:flex;height:90vh;justify-content:center}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[a.i.forChild(d)],a.i]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[e.b,i.k,i.f,r.y,p]]}),t})()}}]);