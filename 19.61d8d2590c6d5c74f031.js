(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"5wPG":function(t,e,n){"use strict";n.r(e),n.d(e,"RegisterPageModule",function(){return M});var o=n("PCNd"),i=n("ofXK"),r=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),c=n("mrSG"),b=n("Q9gF"),u=n("V2kc"),m=n("fXoL"),l=n("j7lE");function d(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",4),m.Mb(1,"ion-buttons",5),m.Kb(2,"ion-back-button",6),m.Lb(),m.Mb(3,"ion-card",7),m.Mb(4,"ion-card-content"),m.Mb(5,"h3"),m.ic(6,"Registro"),m.Lb(),m.Mb(7,"form",8),m.Ub("ngSubmit",function(){m.ec(t);const e=m.Wb();return e.submitForm(e.form.value)}),m.Mb(8,"ion-item"),m.Mb(9,"ion-label",9),m.ic(10,"Email"),m.Lb(),m.Kb(11,"ion-input",10),m.Lb(),m.Mb(12,"ion-item"),m.Mb(13,"ion-label",9),m.ic(14,"Nombre de usuario"),m.Lb(),m.Kb(15,"ion-input",11),m.Lb(),m.Mb(16,"ion-item"),m.Mb(17,"ion-label",9),m.ic(18,"Contrase\xf1a"),m.Lb(),m.Kb(19,"ion-input",12),m.Lb(),m.Mb(20,"ion-item"),m.Mb(21,"ion-label",9),m.ic(22,"Confirmar Contrase\xf1a"),m.Lb(),m.Kb(23,"ion-input",13),m.Lb(),m.Mb(24,"ion-button",14),m.ic(25," Register "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb()}if(2&t){const t=m.Wb();m.zb(7),m.Zb("formGroup",t.form),m.zb(17),m.Zb("disabled",!t.form.valid)}}function g(t,e){1&t&&(m.Mb(0,"div",15),m.Kb(1,"ion-spinner",16),m.Lb())}function p(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",17),m.Mb(1,"info-message",18),m.Ub("clickEvent",function(){return m.ec(t),m.Wb().changePage()}),m.Lb(),m.Lb()}}function f(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",17),m.Mb(1,"info-message",19),m.Ub("clickEvent",function(){return m.ec(t),m.Wb().retry()}),m.Lb(),m.Lb()}if(2&t){const t=m.Wb();m.zb(1),m.Zb("type",t.Types.badRequest)}}const h=[{path:"",component:(()=>{class t{constructor(t,e,n){this.usersService=t,this.toastController=e,this.router=n,this.Status=u.f,this.Types=b.b,this.currentStatus=u.f.loaded}ngOnInit(){this.form=new r.d({email:new r.b("",[r.m.required,r.m.pattern(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/)]),username:new r.b("",[r.m.required]),password:new r.b("",[r.m.required,r.m.pattern(/[a-zA-Z0-9]+/)]),confirmPassword:new r.b("",[r.m.required])})}submitForm(t){return Object(c.a)(this,void 0,void 0,function*(){if(t.confirmPassword!=t.password)return(yield this.toastController.create({message:"Passwords don't match!",duration:2e3})).present();if(t.password.length<8)return(yield this.toastController.create({message:"Password must be 8 characters",duration:2e3})).present();this.currentStatus=u.f.loading;const e=new u.g;e.email=t.email,e.username=t.username,e.password=t.password,this.usersService.register(e).subscribe(t=>{this.currentStatus=u.f.success,setTimeout(()=>{this.changePage()},2e3)},()=>{this.currentStatus=u.f.error})})}retry(){this.currentStatus=u.f.loaded}changePage(){console.log("Yes"),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(m.Jb(l.a),m.Jb(s.E),m.Jb(a.g))},t.\u0275cmp=m.Db({type:t,selectors:[["app-register"]],decls:5,vars:5,consts:[[3,"ngSwitch"],["class","container",4,"ngSwitchCase"],["class","loading",4,"ngSwitchCase"],["class","message",4,"ngSwitchCase"],[1,"container"],["slot","start",1,"back"],["defaultHref","main"],["mode","md",1,"login","elevation"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","email","required",""],["formControlName","username","required",""],["type","password","autocomplete","off","formControlName","password"],["type","password","autocomplete","off","formControlName","confirmPassword"],["expand","block","type","submit","shape","round",3,"disabled"],[1,"loading"],["color","primary"],[1,"message"],["title","Usuario creado correctamente",3,"clickEvent"],["title","Ocurri\xf3 un error al crear el usuario","accept","reintentar",3,"type","clickEvent"]],template:function(t,e){1&t&&(m.Mb(0,"ion-content",0),m.hc(1,d,26,2,"div",1),m.hc(2,g,2,0,"div",2),m.hc(3,p,2,0,"div",3),m.hc(4,f,2,1,"div",3),m.Lb()),2&t&&(m.Zb("ngSwitch",e.currentStatus),m.zb(1),m.Zb("ngSwitchCase",e.Status.loaded),m.zb(1),m.Zb("ngSwitchCase",e.Status.loading),m.zb(1),m.Zb("ngSwitchCase",e.Status.success),m.zb(1),m.Zb("ngSwitchCase",e.Status.error))},directives:[s.h,i.l,i.m,s.e,s.b,s.c,s.f,s.g,r.n,r.j,r.e,s.n,s.o,s.m,s.D,r.i,r.c,r.l,s.d,s.r,b.a],styles:[".login[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:400px;padding:20px}.login[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-medium);font-size:24px;margin-bottom:20px;padding-bottom:15px;text-align:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:30px}.login[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--highlight-height:0;--background:var(--ion-color-light);border-radius:15px;margin-top:25px}.back[_ngcontent-%COMP%]{margin-top:10px}.loading[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{align-items:center;display:flex;height:90vh;justify-content:center}"]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({imports:[[a.i.forChild(h)],a.i]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({imports:[[i.b,r.f,o.a,r.k,s.y,w]]}),t})()}}]);