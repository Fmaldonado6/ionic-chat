(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"74mu":function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return r});const s=(t,e)=>null!==e.closest(t),c=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,i=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},o=/^[a-z][a-z0-9+\-.]*:/,r=async(t,e,n,s)=>{if(null!=t&&"#"!==t[0]&&!o.test(t)){const c=document.querySelector("ion-router");if(c)return null!=e&&e.preventDefault(),c.push(t,n,s)}return!1}},JbSX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var s=n("wEJo"),c=n("qULd"),i=n("iWo5");const o=(t,e)=>{let n,o;const r=(t,s,c)=>{if("undefined"==typeof document)return;const i=document.elementFromPoint(t,s);i&&e(i)?i!==n&&(l(),a(i,c)):l()},a=(t,e)=>{n=t,o||(o=n);const c=n;Object(s.f)(()=>c.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!n)return;const e=n;Object(s.f)(()=>e.classList.remove("ion-activated")),t&&o!==n&&n.click(),n=void 0};return Object(i.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>r(t.currentX,t.currentY,c.a),onMove:t=>r(t.currentX,t.currentY,c.b),onEnd:()=>{l(!0),Object(c.e)(),o=void 0}})}},Mm3c:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var s=n("V2kc"),c=n("fXoL"),i=n("TEn/"),o=n("ofXK");function r(t,e){if(1&t&&(c.Mb(0,"span"),c.ic(1),c.Lb()),2&t){const t=c.Wb();c.zb(1),c.lc(" ",t.myId==t.latestMessage.senderId?"T\xfa: ":t.label+": "," ",t.latestMessage.messageType==t.MessageType.text?t.latestMessage.message:"Archivo adjunto","")}}function a(t,e){if(1&t&&(c.Mb(0,"div",8),c.Mb(1,"span"),c.ic(2),c.Lb(),c.Lb()),2&t){const t=c.Wb();c.zb(2),c.jc(t.newMessageCounter)}}let l=(()=>{class t{constructor(){this.MessageType=s.d,this.newMessageCounter=0,this.latestMessage=null,this.myId=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Db({type:t,selectors:[["chat-item"]],inputs:{label:"label",newMessageCounter:"newMessageCounter",latestMessage:"latestMessage",myId:"myId"},decls:10,vars:3,consts:[["lines","none",1,"ripple-parent","ion-activatable","chat"],[1,"icon-container"],["name","person"],[1,"content"],[4,"ngIf"],[1,"last-icons-container"],["class","notification-container",4,"ngIf"],["name","send",1,"send"],[1,"notification-container"]],template:function(t,e){1&t&&(c.Mb(0,"div",0),c.Kb(1,"ion-ripple-effect"),c.Mb(2,"div",1),c.Kb(3,"ion-icon",2),c.Lb(),c.Mb(4,"div",3),c.ic(5),c.hc(6,r,2,2,"span",4),c.Lb(),c.Mb(7,"div",5),c.hc(8,a,3,1,"div",6),c.Kb(9,"ion-icon",7),c.Lb(),c.Lb()),2&t&&(c.zb(5),c.kc(" ",e.label," "),c.zb(1),c.Zb("ngIf",e.latestMessage),c.zb(2),c.Zb("ngIf",e.newMessageCounter>0))},directives:[i.p,i.l,o.j],styles:[".chat[_ngcontent-%COMP%]{align-items:center;border-radius:10px;box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);cursor:pointer;display:flex;justify-content:start;margin:10px;padding:10px;transition:background-color .3s ease}.chat[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.11)}.notification-container[_ngcontent-%COMP%]{align-items:center;background-color:#cc5050;border-radius:100%;color:#fff;display:flex;font-size:13px;height:23px;justify-content:center;margin-right:20px;padding:3px;width:23px}.last-icons-container[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:auto;margin-right:10px}.send[_ngcontent-%COMP%]{color:grey}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:grey;font-size:13px;margin-top:3px}.icon-container[_ngcontent-%COMP%]{align-items:center;background-color:var(--ion-color-primary);border-radius:100%;display:flex;height:30px;justify-content:center;margin:10px 20px 10px 10px;padding:3px;width:30px}.icon-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}"]}),t})()},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var s=n("ofXK"),c=n("TEn/"),i=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({imports:[[s.b,c.y]]}),t})()},Q9gF:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var s=n("fXoL"),c=n("TEn/"),i=n("ofXK");const o=function(t,e){return{border:t,color:e}};let r=(()=>{class t{constructor(){this.type=a.success,this.title="Completado!",this.accept="Aceptar",this.clickEvent=new s.o,this.buttonColors={[a.success]:"success",[a.badRequest]:"danger"},this.colors={[a.success]:" rgb(111, 204, 111)",[a.badRequest]:"#ef5350"},this.icons={[a.success]:"checkmark",[a.badRequest]:"close"}}buttonClicked(){this.clickEvent.emit()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["info-message"]],inputs:{type:"type",title:"title",accept:"accept"},outputs:{clickEvent:"clickEvent"},decls:7,vars:8,consts:[[1,"message"],[1,"icon-container"],[3,"name","ngStyle"],["shape","round",3,"color","click"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Kb(2,"ion-icon",2),s.Lb(),s.Mb(3,"h2"),s.ic(4),s.Lb(),s.Mb(5,"ion-button",3),s.Ub("click",function(){return e.buttonClicked()}),s.ic(6),s.Lb(),s.Lb()),2&t&&(s.zb(2),s.Zb("name",e.icons[e.type])("ngStyle",s.bc(5,o,"1px solid "+e.colors[e.type],e.colors[e.type])),s.zb(2),s.jc(e.title),s.zb(1),s.Zb("color",e.buttonColors[e.type]),s.zb(1),s.kc(" ",e.accept," "))},directives:[c.l,i.k,c.d],styles:[".icon-container[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:300;margin:20px 0;text-align:center}ion-icon[_ngcontent-%COMP%]{border-radius:100%;margin-bottom:10px;padding:5px;transform:scale(2)}ion-button[_ngcontent-%COMP%]{color:#fff;letter-spacing:2px;text-transform:uppercase}"]}),t})();var a=function(t){return t[t.success=0]="success",t[t.badRequest=1]="badRequest",t}({})},acej:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i});var s=n("1vRN");const c=async(t,e,n,c,i)=>{if(t)return t.attachViewToDom(e,n,i,c);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return c&&c.forEach(t=>o.classList.add(t)),i&&Object.assign(o,i),e.appendChild(o),await new Promise(t=>Object(s.c)(o,t)),o},i=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},fKaL:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var s=n("V2kc"),c=n("AytR"),i=n("2Vo4"),o=n("fXoL"),r=n("j7lE");let a=(()=>{class t{constructor(t){this.usersService=t,this.message=new i.a(null)}connect(){let t=`ws://${c.a.base_url.split("//").pop()}/websocket/message`;c.a.production&&(t=`wss://${c.a.base_url.split("//").pop()}/websocket/message`),this.websocket=new WebSocket(t);const e=new s.h;e.type=s.i.connection,e.message=this.usersService.loggedUser.id,this.websocket.onclose=()=>{this.connect()},this.websocket.onopen=()=>{this.sendMessage(e)},this.websocket.onmessage=t=>{const e=JSON.parse(t.data);this.message.next(e)}}sendMessage(t){this.websocket.send(JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},h3R7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});const s={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const s=t*e/n-t+"ms",c=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(c)+"px",left:9*Math.cos(c)+"px","animation-delay":s}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const s=e/n,c=t*s-t+"ms",i=2*Math.PI*s;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":c}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})}}},"i+vR":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var s=n("yrbL"),c=n("EnSQ"),i=n("V2kc"),o=n("fXoL");let r=(()=>{class t extends c.a{getUserChats(){return this.http.get(`${this.url}/chat`).pipe(Object(s.catchError)(this.handleError),Object(s.map)(t=>t.map(t=>Object.assign(new i.a,t))))}getChatInfo(t){return this.http.get(`${this.url}/chat/${t}`).pipe(Object(s.catchError)(this.handleError),Object(s.map)(t=>Object.assign(new i.b,t)))}}return t.\u0275fac=function(e){return a(e||t)},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const a=o.Ob(r)},qULd:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return r});const s={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},c=()=>{s.selection()},i=()=>{s.selectionStart()},o=()=>{s.selectionChanged()},r=()=>{s.selectionEnd()},a=t=>{s.impact(t)}},rEJb:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var s=n("fXoL"),c=n("TEn/");let i=(()=>{class t{constructor(){this.icon="help-circle",this.text="No hay"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["empty"]],inputs:{icon:"icon",text:"text"},decls:4,vars:2,consts:[[1,"empty"],[3,"name"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Kb(1,"ion-icon",1),s.Mb(2,"p"),s.ic(3),s.Lb(),s.Lb()),2&t&&(s.zb(1),s.Zb("name",e.icon),s.zb(2),s.jc(e.text))},directives:[c.l],styles:[".empty[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}.empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:grey;margin-top:50px;transform:scale(3)}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#858585;font-size:18px;text-align:center}"]}),t})()}}]);