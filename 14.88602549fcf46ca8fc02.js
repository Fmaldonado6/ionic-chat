(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{tSoA:function(t,e,n){"use strict";n.r(e),n.d(e,"EditUserPageModule",function(){return v});var i=n("PCNd"),o=n("ofXK"),r=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),c=n("mrSG"),b=n("V2kc"),u=n("Q9gF"),l=n("KTjc"),m=n("fXoL"),d=n("j7lE");function g(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",6),m.Mb(1,"ion-card",7),m.Mb(2,"ion-card-content"),m.Mb(3,"h3"),m.ic(4,"Editar usuario"),m.Lb(),m.Mb(5,"form",8),m.Ub("ngSubmit",function(){m.ec(t);const e=m.Wb();return e.submitForm(e.form.value)}),m.Mb(6,"ion-item"),m.Mb(7,"ion-label",9),m.ic(8,"Nombre de usuario"),m.Lb(),m.Kb(9,"ion-input",10),m.Lb(),m.Mb(10,"ion-item"),m.Mb(11,"ion-label",9),m.ic(12,"Email"),m.Lb(),m.Kb(13,"ion-input",11),m.Lb(),m.Kb(14,"input",12),m.Mb(15,"ion-button",13),m.ic(16," Confirmar "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb()}if(2&t){const t=m.Wb();m.zb(5),m.Zb("formGroup",t.form),m.zb(10),m.Zb("disabled",!t.form.valid)}}function f(t,e){1&t&&(m.Mb(0,"div",14),m.Kb(1,"ion-spinner",15),m.Lb())}function h(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",16),m.Mb(1,"info-message",17),m.Ub("clickEvent",function(){return m.ec(t),m.Wb().changePage()}),m.Lb(),m.Lb()}}function p(t,e){if(1&t){const t=m.Nb();m.Mb(0,"div",16),m.Mb(1,"info-message",18),m.Ub("clickEvent",function(){return m.ec(t),m.Wb().retry()}),m.Lb(),m.Lb()}if(2&t){const t=m.Wb();m.zb(1),m.Zb("type",t.Types.badRequest)}}const M=[{path:"",component:(()=>{class t{constructor(t,e,n){this.usersService=t,this.router=e,this.toastController=n,this.Types=u.b,this.Status=b.f,this.currentStatus=b.f.loaded,this.form=new r.d({})}ngOnInit(){this.form=new r.d({username:new r.b(this.usersService.loggedUser.username,[r.m.required]),email:new r.b(this.usersService.loggedUser.email,[r.m.required])})}submitForm(t){this.currentStatus=b.f.loading;const e=new b.g;e.email=t.email,e.username=t.username,this.usersService.updateUser(e).subscribe(t=>{this.currentStatus=b.f.success,this.usersService.setUser(t)},t=>Object(c.a)(this,void 0,void 0,function*(){t instanceof l.c?((yield this.toastController.create({message:"El email ingresado ya existe",duration:2e3})).present(),this.currentStatus=b.f.loaded):this.currentStatus=b.f.error}))}changePage(){this.router.navigate(["/main/account"]),this.currentStatus=b.f.loaded}retry(){this.currentStatus=b.f.loaded}}return t.\u0275fac=function(e){return new(e||t)(m.Jb(d.a),m.Jb(a.g),m.Jb(s.E))},t.\u0275cmp=m.Db({type:t,selectors:[["app-edit-user"]],decls:11,vars:5,consts:[["slot","start"],["defaultHref","main/account"],[3,"ngSwitch"],["class","container",4,"ngSwitchCase"],["class","loading",4,"ngSwitchCase"],["class","message",4,"ngSwitchCase"],[1,"container"],["mode","md",1,"login","elevation"],[3,"formGroup","ngSubmit"],["position","floating"],["autocomplete","off","formControlName","username"],["autocomplete","off","formControlName","email"],["type","submit",1,"submit-enter"],["expand","block","type","submit","shape","round",3,"disabled"],[1,"loading"],["color","primary"],[1,"message"],["title","Usuario actualizado correctamente",3,"clickEvent"],["title","Ocurri\xf3 un error al actualizar el usuario","accept","reintentar",3,"type","clickEvent"]],template:function(t,e){1&t&&(m.Mb(0,"ion-header"),m.Mb(1,"ion-toolbar"),m.Mb(2,"ion-buttons",0),m.Kb(3,"ion-back-button",1),m.Lb(),m.Mb(4,"ion-title"),m.ic(5,"Editar usuario"),m.Lb(),m.Lb(),m.Lb(),m.Mb(6,"ion-content",2),m.hc(7,g,17,2,"div",3),m.hc(8,f,2,0,"div",4),m.hc(9,h,2,0,"div",5),m.hc(10,p,2,1,"div",5),m.Lb()),2&t&&(m.zb(6),m.Zb("ngSwitch",e.currentStatus),m.zb(1),m.Zb("ngSwitchCase",e.Status.loaded),m.zb(1),m.Zb("ngSwitchCase",e.Status.loading),m.zb(1),m.Zb("ngSwitchCase",e.Status.success),m.zb(1),m.Zb("ngSwitchCase",e.Status.error))},directives:[s.k,s.w,s.e,s.b,s.c,s.v,s.h,o.l,o.m,s.f,s.g,r.n,r.j,r.e,s.n,s.o,s.m,s.D,r.i,r.c,s.d,s.r,u.a],styles:[".login[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:50px;max-width:400px;padding:20px}.login[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-medium);font-size:24px;margin-bottom:20px;padding-bottom:15px;text-align:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:30px}.login[_ngcontent-%COMP%]   .submit-enter[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--highlight-height:0;--background:var(--ion-color-light);border-radius:15px;margin-top:25px}.loading[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{align-items:center;display:flex;height:90vh;justify-content:center}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({imports:[[a.i.forChild(M)],a.i]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({imports:[[o.b,r.f,i.a,r.k,s.y,S]]}),t})()}}]);